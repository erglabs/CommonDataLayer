<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Getting Started - The Common Data Layer</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Common Data Layer</a></li><li class="chapter-item expanded "><a href="how_it_works.html"><strong aria-hidden="true">2.</strong> How does it work</a></li><li class="chapter-item expanded "><a href="getting_started.html" class="active"><strong aria-hidden="true">3.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="deployment/index.html"><strong aria-hidden="true">4.</strong> Deployment</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="deployment/local/index.html"><strong aria-hidden="true">4.1.</strong> Local deployment</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="deployment/local/docker-compose.html"><strong aria-hidden="true">4.1.1.</strong> docker-compose</a></li><li class="chapter-item expanded "><a href="deployment/local/helm.html"><strong aria-hidden="true">4.1.2.</strong> Helm</a></li></ol></li><li class="chapter-item expanded "><a href="deployment/production/index.html"><strong aria-hidden="true">4.2.</strong> Production-grade deployment</a></li></ol></li><li class="chapter-item expanded "><a href="schemas_and_views.html"><strong aria-hidden="true">5.</strong> Schemas and Views</a></li><li class="chapter-item expanded "><a href="examples/index.html"><strong aria-hidden="true">6.</strong> Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="examples/materialization.html"><strong aria-hidden="true">6.1.</strong> Materialization</a></li></ol></li><li class="chapter-item expanded "><a href="features/index.html"><strong aria-hidden="true">7.</strong> Features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="features/ordering.html"><strong aria-hidden="true">7.1.</strong> Message ordering</a></li><li class="chapter-item expanded "><a href="features/client_routing.html"><strong aria-hidden="true">7.2.</strong> Client routing</a></li></ol></li><li class="chapter-item expanded "><a href="processes/index.html"><strong aria-hidden="true">8.</strong> Processes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="processes/0001_Commit_message_formalization_and_enforcement.html"><strong aria-hidden="true">8.1.</strong> Commit message formalization and enforcement</a></li><li class="chapter-item expanded "><a href="processes/0002_Branching_strategy.html"><strong aria-hidden="true">8.2.</strong> Branhing strategy</a></li><li class="chapter-item expanded "><a href="processes/0003_Documentation_structure_and_RFC_process.html"><strong aria-hidden="true">8.3.</strong> Documentation structure and RFC process</a></li></ol></li><li class="chapter-item expanded "><a href="versioning.html"><strong aria-hidden="true">9.</strong> Versioning</a></li><li class="chapter-item expanded "><a href="protocol.html"><strong aria-hidden="true">10.</strong> Protocol schema</a></li><li class="chapter-item expanded "><a href="benchmarks.html"><strong aria-hidden="true">11.</strong> Benchmarks</a></li><li class="chapter-item expanded "><a href="architecture/index.html"><strong aria-hidden="true">12.</strong> Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="architecture/management.html"><strong aria-hidden="true">12.1.</strong> Management Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="architecture/cli.html"><strong aria-hidden="true">12.1.1.</strong> CLI</a></li><li class="chapter-item expanded "><a href="architecture/web_admin.html"><strong aria-hidden="true">12.1.2.</strong> Admin Web Panel</a></li></ol></li><li class="chapter-item expanded "><a href="architecture/api.html"><strong aria-hidden="true">12.2.</strong> GraphQL API</a></li><li class="chapter-item expanded "><a href="architecture/configuration.html"><strong aria-hidden="true">12.3.</strong> Configuration Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="architecture/schema_registry.html"><strong aria-hidden="true">12.3.1.</strong> Schema Registry</a></li><li class="chapter-item expanded "><a href="architecture/leader_elector.html"><strong aria-hidden="true">12.3.2.</strong> Leader Elector</a></li><li class="chapter-item expanded "><a href="architecture/edge_registry.html"><strong aria-hidden="true">12.3.3.</strong> Edge Registry</a></li></ol></li><li class="chapter-item expanded "><a href="architecture/ingestion.html"><strong aria-hidden="true">12.4.</strong> Ingestion Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="architecture/data_router.html"><strong aria-hidden="true">12.4.1.</strong> Data Router</a></li></ol></li><li class="chapter-item expanded "><a href="architecture/storage.html"><strong aria-hidden="true">12.5.</strong> Storage Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="architecture/command_service.html"><strong aria-hidden="true">12.5.1.</strong> Command Service</a></li><li class="chapter-item expanded "><a href="architecture/db_shrinker_storage.html"><strong aria-hidden="true">12.5.2.</strong> Db Shrinker Storage</a></li><li class="chapter-item expanded "><a href="architecture/query_service.html"><strong aria-hidden="true">12.5.3.</strong> Query Service</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.6.</strong> Materialization Layer</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="architecture/object_builder.html"><strong aria-hidden="true">12.6.1.</strong> Object Builder</a></li><li class="chapter-item expanded "><a href="architecture/partial_update_engine.html"><strong aria-hidden="true">12.6.2.</strong> Partial Update Engine</a></li><li class="chapter-item expanded "><a href="architecture/materializer_general.html"><strong aria-hidden="true">12.6.3.</strong> General Materializer</a></li><li class="chapter-item expanded "><a href="architecture/materializer_ondemand.html"><strong aria-hidden="true">12.6.4.</strong> On Demand Materializer</a></li></ol></li><li class="chapter-item expanded "><a href="architecture/retrieval.html"><strong aria-hidden="true">12.7.</strong> Retrieval Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="architecture/query_router.html"><strong aria-hidden="true">12.7.1.</strong> Query Router</a></li></ol></li><li class="chapter-item expanded "><a href="architecture/utils.html"><strong aria-hidden="true">12.8.</strong> Utils</a></li></ol></li><li class="chapter-item expanded "><a href="configuration/index.html"><strong aria-hidden="true">13.</strong> Configuration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="configuration/api.html"><strong aria-hidden="true">13.1.</strong> api</a></li><li class="chapter-item expanded "><a href="configuration/command-service.html"><strong aria-hidden="true">13.2.</strong> command-service</a></li><li class="chapter-item expanded "><a href="configuration/data-router.html"><strong aria-hidden="true">13.3.</strong> data-router</a></li><li class="chapter-item expanded "><a href="configuration/edge-registry.html"><strong aria-hidden="true">13.4.</strong> edge-registry</a></li><li class="chapter-item expanded "><a href="configuration/materializer-general.html"><strong aria-hidden="true">13.5.</strong> materializer-general</a></li><li class="chapter-item expanded "><a href="configuration/materializer-ondemand.html"><strong aria-hidden="true">13.6.</strong> materializer-ondemand</a></li><li class="chapter-item expanded "><a href="configuration/object-builder.html"><strong aria-hidden="true">13.7.</strong> object-builder</a></li><li class="chapter-item expanded "><a href="configuration/partial-update-engine.html"><strong aria-hidden="true">13.8.</strong> partial-update-engine</a></li><li class="chapter-item expanded "><a href="configuration/query-router.html"><strong aria-hidden="true">13.9.</strong> query-router</a></li><li class="chapter-item expanded "><a href="configuration/query-service.html"><strong aria-hidden="true">13.10.</strong> query-service</a></li><li class="chapter-item expanded "><a href="configuration/query-service-ts.html"><strong aria-hidden="true">13.11.</strong> query-service-ts</a></li><li class="chapter-item expanded "><a href="configuration/schema-registry.html"><strong aria-hidden="true">13.12.</strong> schema-registry</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.</strong> RFCs</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">14.1.</strong> 0021 - Development process</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.2.</strong> 0020 - Configuration service</div></li><li class="chapter-item expanded "><a href="rfc/0019_Simplify_Schema_Definitions_01.html"><strong aria-hidden="true">14.3.</strong> 0019 - Simplify Schema Definitions</a></li><li class="chapter-item expanded "><a href="rfc/0018_Transport_headers_passthrough_01.html"><strong aria-hidden="true">14.4.</strong> 0018 - Transport headers passthrough</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.5.</strong> 0017 - Edge Registry: Resolving relation trees</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.6.</strong> 0015 - CI/CD setup R&amp;D</div></li><li class="chapter-item expanded "><a href="rfc/0014_Query_raw_routes_01.html"><strong aria-hidden="true">14.7.</strong> 0014 - Query raw routes</a></li><li class="chapter-item expanded "><a href="rfc/0013_Documentation_restructure_and_RFC_process_01.html"><strong aria-hidden="true">14.8.</strong> 0013 - Documentation restructure and RFC process</a></li><li class="chapter-item expanded "><a href="rfc/0012_CDL_documentation_generation_01.html"><strong aria-hidden="true">14.9.</strong> 0012 - CDL Documentation Generation</a></li><li class="chapter-item expanded "><a href="rfc/0011_Branching_strategy_01.html"><strong aria-hidden="true">14.10.</strong> 0011 - Branching strategy</a></li><li class="chapter-item expanded "><a href="rfc/0010_Schema_Registry_less_CDL_deployment_01.html"><strong aria-hidden="true">14.11.</strong> 0010 - Schema-Registry-less CDL deployment</a></li><li class="chapter-item expanded "><a href="rfc/0008_CDL_publishing_deployment_configurations_01.html"><strong aria-hidden="true">14.12.</strong> 0008 - CDL publishing deployment configurations</a></li><li class="chapter-item expanded "><a href="rfc/0009_CDL_Ingestion_API_versioning_02.html"><strong aria-hidden="true">14.13.</strong> 0009 - CdlIM Versioning 2.0</a></li><li class="chapter-item expanded "><a href="rfc/0007_Materialized_views_01.html"><strong aria-hidden="true">14.14.</strong> 0007 - Materialized Views</a></li><li class="chapter-item expanded "><a href="rfc/0006_Edge_registry_01.html"><strong aria-hidden="true">14.15.</strong> 0006 - Edge Registry</a></li><li class="chapter-item expanded "><a href="rfc/0005_CDL_Ingestion_API_versioning_01.html"><strong aria-hidden="true">14.16.</strong> 0005 - CdlIM Versioning</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="rfc/0009_CDL_Ingestion_API_versioning_02.html"><strong aria-hidden="true">14.16.1.</strong> 0009 - CdlIM Versioning 2.0</a></li></ol></li><li class="chapter-item expanded "><a href="rfc/0004_Commit_message_formalization_and_enforcement_01.html"><strong aria-hidden="true">14.17.</strong> 0004 - Commit message formalization</a></li><li class="chapter-item expanded "><a href="rfc/0003_Usage_of_Message_Pack_format_as_CDL_input_01.html"><strong aria-hidden="true">14.18.</strong> 0003 - MessagePack support</a></li><li class="chapter-item expanded "><a href="rfc/0002_Materialization_01.html"><strong aria-hidden="true">14.19.</strong> 0002 - Materialization - Overview</a></li><li class="chapter-item expanded "><a href="rfc/0001_Alternative_communication_method_01.html"><strong aria-hidden="true">14.20.</strong> 0001 - Alternative communication method</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The Common Data Layer</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/epiphany-platform/CommonDataLayer" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#getting-started" id="getting-started">Getting Started</a></h1>
<p>For infomration on specific services and their responsibilities:</p>
<ul>
<li><a href="./architecture/command_service.html">Command Service</a></li>
<li><a href="./architecture/data_router.html">Data Router</a></li>
<li><a href="./architecture/schema_registry.html">Schema Registry</a></li>
<li><a href="./architecture/query_service.html">Query Service</a></li>
</ul>
<h1><a class="header" href="#installation" id="installation">Installation</a></h1>
<p>CDL is a written in Rust. See Rust's <a href="https://www.rust-lang.org/tools/install">installation</a> guide to install. Below are the pre-requesites needed to get started: </p>
<ul>
<li>Rust</li>
<li>Docker</li>
<li>Docker Compose</li>
</ul>
<p>You can download <a href="https://docs.docker.com/desktop/">docker desktop</a> for both Windows and MacOS to intall docker and docker compose on your local machine.</p>
<h2><a class="header" href="#working-with-cdl-locally" id="working-with-cdl-locally">Working with CDL Locally</a></h2>
<p>Below is a following simple amount of steps to getting started working with the services in the CDL locally on your machine. To build and install container images of services within the CDL, run <code>build.sh</code> in root directory of this project.</p>
<p>Please review how to set up CDL locally on your machine but viewing <a href="deployment/local/index.html">local setup</a> documentations for a sample deployment. </p>
<p>Below we will walk through a simple use case of the CDL:</p>
<p><strong>Use Case</strong></p>
<ul>
<li>Create Schema</li>
<li>Insert Data</li>
<li>Query Data</li>
</ul>
<h2><a class="header" href="#add-schema-via-cli" id="add-schema-via-cli">Add Schema via CLI</a></h2>
<p>A schema can be added through the CLI tool localed in the <code>cdl-cli</code> directory. To be able to run the cli you must have a rust compiler. The following command below creates the schema with a name according a json schema in a file as well as sets the topic for routing data through kafka. </p>
<pre><code>cargo run --bin cdl -- --registry-addr &lt;registry_address&gt; schema add --name &lt;schema_name&gt; --topic &quot;cdl.document.input&quot; --file &lt;file_path_to_json&gt;
</code></pre>
<p>Here is the sample JSON schema format that the CDL anticipates and ultimatley will validate data by. Please review <a href="./architecture/schema_registry.html">README</a> in <code>schema-registry</code> directory for more information.</p>
<pre><code>{
	&quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,
    &quot;$id&quot;: &quot;http://example.com/product.schema.json&quot;,
	&quot;definitions&quot;: {
		&quot;1.0.0&quot;: {
            &quot;description&quot;: &quot;A work order&quot;,
            &quot;type&quot;: &quot;object&quot;,
            &quot;properties&quot;: {
                &quot;property1&quot;: {
                    &quot;description&quot;: &quot;&quot;,
                    &quot;type&quot;: &quot;integer&quot;
                },
                &quot;property2&quot;: {
                    &quot;description&quot;:&quot;&quot;,
                    &quot;type&quot;: &quot;string&quot; 
                },
            },
            &quot;required&quot;: [&quot;property1&quot;]
        }
    }
}
</code></pre>
<p><strong>NOTE</strong>: Schema's can be added via <a href="https://grpc.io/docs/what-is-grpc/introduction/">gRPC</a> to the schema registry. Ensure that you have <code>protoc</code> installed on your machine you machine generate <a href="https://github.com/epiphany-platform/CommonDataLayer/tree/develop/crates/rpc/proto">proto</a> files in a supported language and make requests via a client.</p>
<h2><a class="header" href="#insert-data" id="insert-data">Insert Data</a></h2>
<p>Data can be inserted into the system by data being written to Kafka or ingested through RabbitMQ. Data must be in JSON format with the following fields: <code>schemaId</code>, <code>objectId</code> and <code>data</code> to be routed through the CDL. 
It's worth noting that CDL doesn't rely on message key unless <a href="./features/ordering.html">message ordering</a> feature is enabled. However in order to keep system more performant it's advised to pass NULL as message key or evenly distributed strings.</p>
<p>Below is an example of the what input data would look like. Both ID fields are UUIDs.</p>
<pre><code>{
    &quot;schemaId&quot;: &lt;UUID&gt;,
    &quot;objectId&quot;: &lt;UUID&gt;,
    &quot;data&quot;: &quot;{ \&quot;some_propery&quot;: \&quot;object\&quot;}&quot;

}
</code></pre>
<h3><a class="header" href="#publish-messae-via-rabbitmq" id="publish-messae-via-rabbitmq">Publish messae via RabbitMQ</a></h3>
<p>Below is a sample <code>curl</code> command you can also publish a message through RabbitMQ web admin tool through a exchange or directly to a queue. Review <a href="deployment/local/index.html">local setup</a> for configuration details on Kafka, RabbitMQ.</p>
<p>The command below example takes input data and publishes to the default exchange in RabbitMQ. The message gets consumed and is sent to kafka and published to topic which is determined by <code>schemaId</code>.  The message is then routed to command service which handles routing and storage of data by type. </p>
<pre><code>curl -i -u ${user}:${pass} -H &quot;Accept: application/json&quot; \
-H &quot;Content-Type:application/json&quot; \
-XPOST -d'{&quot;properties&quot;:{},&quot;routing_key&quot;:&quot;my_key&quot;,&quot;payload&quot;:&quot;my body&quot;,&quot;payload_encoding&quot;:&quot;string&quot;}'\
http://${ampq_url}/api/exchanges/%2F/${exchange}/publish
</code></pre>
<h2><a class="header" href="#query-data" id="query-data">Query Data</a></h2>
<h3><a class="header" href="#query-via-query-service" id="query-via-query-service">Query via Query Service</a></h3>
<p>Following this example local deployment, you can query for data saved. Here data is saved within the PR.
Ensure that environment variables are set for <code>POSTGRES_USERNAME</code>, <code>POSTGRES_PASSWORD</code>, <code>POSTGRES_HOST</code>, <code>POSTGRES_PORT</code>, <code>POSTGRES_DBNAME</code>, <code>POSTGRES_SCHEMA</code>, <code>INPUT_PORT</code> and <code>DS_QUERY_URL</code> or run query service directly on machine.</p>
<pre><code>cargo run --bin query_service -- \
--schema-registry-addr &lt;registry_addr&gt; \
--ds-query-url &lt;ds-url&gt;  \
--input-port &lt;input_port&gt;
</code></pre>
<h3><a class="header" href="#query-data-via-query-router" id="query-data-via-query-router">Query Data via Query Router</a></h3>
<p>The Query Router works with the query services to route requests to the correct repository, determined per schema (based on its query address).</p>
<pre><code>cargo run --bin query_router -- \
--schema-registry-addr &lt;schema_registry_addr&gt; \
--cache-capacity &lt;cache_capacity&gt; \
--input-port &lt;input_port&gt;
</code></pre>
<h2><a class="header" href="#deployment" id="deployment">Deployment</a></h2>
<p>See <a href="./deployment/index.html">chapter in the book</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="how_it_works.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="deployment/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="how_it_works.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="deployment/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
